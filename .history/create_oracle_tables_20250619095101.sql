-- DEPARTMENTS
CREATE TABLE DEPARTMENTS (
  DEPARTMENTS_DEPT_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
  DEPARTMENTS_DEPT_NAME VARCHAR2(100) UNIQUE NOT NULL
);

-- STUDENTS
CREATE TABLE STUDENTS (
  STUDENTS_ID NUMBER PRIMARY KEY,
  STUDENTS_FIRST_NAME VARCHAR2(100),
  STUDENTS_LAST_NAME VARCHAR2(100),
  STUDENTS_EMAIL VARCHAR2(100) UNIQUE,
  STUDENTS_JOINING_DATE DATE,
  STUDENTS_DEPT_ID NUMBER,
  FOREIGN KEY (STUDENTS_DEPT_ID) REFERENCES DEPARTMENTS(DEPARTMENTS_DEPT_ID)
);

-- SUBJECTS
CREATE TABLE SUBJECTS (
  SUBJECTS_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
  SUBJECT_NAME VARCHAR2(200) UNIQUE NOT NULL,
  SUBJECTS_DEPT_ID NUMBER,
  FOREIGN KEY (SUBJECTS_DEPT_ID) REFERENCES DEPARTMENTS(DEPARTMENTS_DEPT_ID)
);

-- MARKS
CREATE TABLE MARKS (
  MARKS_STUDENT_ID NUMBER,
  MARKS_SUBJECT_ID NUMBER,
  MARKS NUMBER,
  PRIMARY KEY (MARKS_STUDENT_ID, MARKS_SUBJECT_ID),
  FOREIGN KEY (MARKS_STUDENT_ID) REFERENCES STUDENTS(STUDENTS_ID),
  FOREIGN KEY (MARKS_SUBJECT_ID) REFERENCES SUBJECTS(SUBJECTS_ID)
);

-- GRADE
CREATE TABLE GRADE (
  GRADE_ID NUMBER PRIMARY KEY,
  GRADE_CODE VARCHAR2(10),
  GRADE_LABEL VARCHAR2(100),
  PERCENTAGE_RANGE VARCHAR2(10),
  gpa_equivalent NUMBER
);
