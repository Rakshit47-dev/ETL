-- DEPARTMENTS
CREATE TABLE DEPARTMENTS (
  DEPARTMENTS_DEPT_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
  DEPARTMENTS_DEPT_NAME VARCHAR2(100) UNIQUE NOT NULL
);

-- STUDENTS
CREATE TABLE STUDENTS (
  STUDENTS_STU_ID NUMBER PRIMARY KEY,
  STUDENTS_FIRST_NAME VARCHAR2(100),
  STUDENTS_LAST_NAME VARCHAR2(100),
  STUDENTS_EMAIL VARCHAR2(100) UNIQUE,
  STUDENTS_JOINING_DATE DATE,
  STUDENTS_DEPT_ID NUMBER,
  FOREIGN KEY (STUDENTS_DEPT_ID) REFERENCES DEPARTMENTS(DEPARTMENTS_DEPT_ID)
);

-- SUBJECTS
CREATE TABLE SUBJECTS (
  SUBJECTS_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
  subject_name VARCHAR2(200) UNIQUE NOT NULL,
  dept_id NUMBER,
  FOREIGN KEY (dept_id) REFERENCES DEPARTMENTS(dept_id)
);

-- MARKS
CREATE TABLE MARKS (
  student_id NUMBER,
  subject_id NUMBER,
  marks NUMBER,
  PRIMARY KEY (student_id, subject_id),
  FOREIGN KEY (student_id) REFERENCES STUDENTS(student_id),
  FOREIGN KEY (subject_id) REFERENCES SUBJECTS(subject_id)
);

-- GRADE
CREATE TABLE GRADE (
  grade_id NUMBER PRIMARY KEY,
  grade_code VARCHAR2(10),
  grade_label VARCHAR2(100),
  percentage_range VARCHAR2(10),
  gpa_equivalent NUMBER
);
